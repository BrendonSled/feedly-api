CREATE TABLE IF NOT EXISTS feeds (id TEXT PRIMARY KEY, title TEXT NOT NULL, sortid TEXT, updated INTEGER NOT NULL, website TEXT);
CREATE INDEX idx_feeds_title ON feeds(title);
CREATE INDEX idx_feeds_updated ON feeds(updated);
CREATE INDEX idx_feeds_website ON feeds(website);

CREATE TABLE IF NOT EXISTS categories (id TEXT PRIMARY KEY, label TEXT);
CREATE UNIQUE INDEX categories_id ON categories(id);

CREATE TABLE IF NOT EXISTS feeds_categories(feed_id  TEXT NOT NULL, category_id TEXT, FOREIGN KEY(feed_id) REFERENCES feeds(id) ON UPDATE CASCADE ON DELETE CASCADE, FOREIGN KEY(category_id) REFERENCES categories(id) ON UPDATE CASCADE ON DELETE CASCADE);
CREATE INDEX idx_feeds_categories_feed_id ON feeds_categories(feed_id);
CREATE INDEX idx_feeds_categories_category_id ON feeds_categories(category_id);