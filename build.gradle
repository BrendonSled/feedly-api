allprojects {
    apply plugin: 'java'
    apply plugin: 'idea'
}

subprojects {
    repositories {
        mavenCentral()
    }

    configurations {
        provided
        provided.extendsFrom(compile)
    }

    idea {
        module {
            downloadJavadoc = true
            downloadSources = true
            excludeDirs += file('out')
            excludeDirs += file('misc')
            excludeDirs += file('spec-files')
            inheritOutputDirs = false
            outputDir = file('build')
            scopes.PROVIDED.plus += configurations.provided
        }
        project {
            jdkName = '1.7'
        }
    }
}
